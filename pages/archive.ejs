<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" type="image/jpg" href="./style/images/Tree Icon.png" />
  <link rel="stylesheet" href="./style/style.css">
  <script src="script/Chart.min.js"></script>
  <title>Controlled Environment - Archive</title>
</head>

<body class="archive_page_bg">
  <h1>Archive</h1>
  <h2>Automatic mode Archive</h2>
  <table class="archiveSetting">
    <thead class="table_set">
      <td>Scheme</td>
      <td>Timestamp</td>
      <td>Temperature</td>
      <td>Light Level</td>
      <td>Humidity</td>
    </thead>
    <% for (const item of userSettings) { %>
      <% if (item.mode  =="Automatic" ) { %> 
        <tr class="table_set_tr">
          <td><%- item.scheme%></td>
          <td><%- new Date(item.time).toLocaleString('en-GB', { hour12:false } ) %></td>
          <td><%- item.temperature %> </td> 
          <td><%- item.lightLevel %> </td>
          <td><%- item.humidity %></td>  
      </tr>
      <% } %>
      <% } %>
    </table>
     <h2>Manual mode archive</h2>
     <table class="archiveSetting">
       <thead class="table_set">
         <td>Timestamp</td>
         <td>Temperature</td>
         <td>Light Level</td>
         <td>Humidity</td>
       </thead>
     <% for (const item of userSettings) { %>
      <% if (item.mode == "Manual") { %>
        <tr class="table_set_tr">
           <td><%- new Date(item.time).toLocaleString('en-GB', { hour12:false } ) %></td>
           <td><%- item.temperature %> </td> 
           <td><%- item.lightLevel %> </td>
           <td><%- item.humidity %></td>  
        </tr>
        <% } %>
        <% } %>
      </table>

      <div class="indx_div">
        <button type="submit" class="backToIndex">Index</button>
      </div>
      <div class="grph_div">
        <button type="submit" class="showGraph">Show graph</button>
      </div>
      <div class="graph_button">
        <div class="graph_area">
          <canvas id="myChart" style="width:100%;max-width:1000px"></canvas>
        </div>
      </div>
    <script async src="script/archive.js"></script>
    <script async src="script/chart.js"></script>
</body>

</html>